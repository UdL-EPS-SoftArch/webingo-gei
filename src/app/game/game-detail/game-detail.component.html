<ng-template #newinvitation let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-new-invitation">New invitation</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form id="invitation-form" (ngSubmit)="onSubmit()" #invitationForm="ngForm">
      <fieldset>

        <label class="control-label">Player*</label>
        <div class="select-style" style="width:200px;">
          <select name="PlayerSelect" [(ngModel)]="invitation.invites">
            <!--<option *ngFor="let player of players" [ngValue]="player">{{player.username}}</option>-->
          </select>
          <div class="invalid-feedback">A player is required</div>
        </div>

        <div class="form-group" [class.was-validated]="message.dirty || message.touched">
          <label class="control-label" for="message">Message*</label>
          <input id="message" name="message" type="text" class="form-control" required
                 [(ngModel)]="invitation.message" #message="ngModel">
          <div class="invalid-feedback">A message is required</div>
        </div>

        <!-- Button -->
        <div class="form-group">
          <button id="submit" type="submit" class="btn m-1 btn-success pull-right" [disabled]="!invitationForm.valid">Submit</button>
          <button id="listBtn" type="button" [routerLink]="['/invitations']" class="btn m-1 btn-outline-primary pull-right">Back</button>
        </div>

      </fieldset>
    </form>

  </div>
</ng-template>

<div class="row justify-content-between">
  <div class="col mb-3">
    <button id="newGameBtn" class="btn btn-success pull-right" type="button" (click)="openModal(newinvitation, 'modal-new-invitation')"><i class="fa fa-user" style="margin-right: 5px"></i>Invite Player</button>
  </div>
</div>

<div class="card mb-1">
  <div class="card-block">
    <h4 class="card-header text-left"><u><a [routerLink]="[game.uri]">{{game.name}}</a></u> - Game Details</h4>
    <div class="card-body row m-1">
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">Id</h6>
        <p class="card-text">{{game.id}}</p>
      </div>
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">Name</h6>
        <p class="card-text">{{game.name}}</p>
      </div>
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">Status</h6>
        <p class="card-text">{{game.status}}</p>
      </div>
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">Jackpot</h6>
        <p class="card-text">{{game.jackpot}}</p>
      </div>
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">PricePerCard</h6>
        <p class="card-text">{{game.pricePerCard}}</p>
      </div>
      <div class="col-md-4 p-3">
        <h6 class="card-subtitle text-muted">CreatedAt</h6>
        <p class="card-text">{{game.createdAt}}</p>
      </div>
    </div>

    <div class="card-footer text-right" *ngIf="isAdmin()">
      <button id="listBtn" type="button" [routerLink]="['/games']"
              class="btn m-1 btn-outline-primary">Back
      </button>
      <button id="editBtn" type="button" [routerLink]="['edit']"
              class="btn m-1 btn-outline-success" *ngIf="isAdmin()">Edit
      </button>
      <!--[routerLink]="['delete']"-->
      <button id="deleteBtn" type="button" *ngIf="isAdmin()" [swal]="deleteSwal"
              class="btn m-1 btn-outline-danger">Delete
      </button>

      <swal
        #deleteSwal
        title="Are you sure?"
        text="You won't be able to revert the deletion!"
        type="warning"
        [customClass]="{confirmButton:'btn btn-success', cancelButton:'btn btn-danger'}"
        [showCancelButton]="true"
        [options]="{confirmButtonClass:'m-1',cancelButtonClass:'m-1'}"
        (confirm)="delete()">
      </swal>
    </div>
  </div>
</div>
